# MoreTechMRM
Краткое описание проекта.

Для работы проекта необходимо иметь установленный docker-compose.
Также необходим установленный node.js версии 16.17.1 (последняя LTS версия)

Инструкция по запуску приложения:
1) Перейдите в основную директорию приложения (там, где лежит файл package.json)
2) Запустите mongo с помощью команды в терминале:
   ```./startdb.sh```
   и подождите, пока не выйдет сообщение об успешном  
   создании пользователя или о том, что пользователь уже существует. Этот шаг неосуществим без наличия  
   установленного docker-compose. Так же вам возможно нужно будет установить разрешения для запуска скрипта.
3) Запустите само серверное приложение командой  
   ```npm start```
4) Для просмотра документации swagger введите в браузере url: ```localhost:8000/docs``` (на месте 8000 может быть и другой порт, если вы его указали в .env файле)

Инструкция по остановке приложения:
1) Нажмите ```Ctrl+C``` в терминале с запущенным процессом ноды (если вы запустили процесс с использованием
   ```&```
   вам придется вручную искать и останавливать процесс)
2) Используйте
   ```docker-compose down```
   , чтобы остановить докер контейнеры с mongo

## Основные виды файлов -
1) .module.ts - предоставляемые nestjs объекты для разграничения модулей и установления зависимостей между ними
2) .controller.ts - необходимы для принятия и роутинга http запросов
3) .service.ts - содержат основную бизнес-логику по обработке запросов
4) .helper.ts - содержат низкоуровневую логику (например, для работы с бд или файлами)
5) .dtos.ts - data transfer object объекты для обмена данными между сервисами и контроллерами, а также контроллерами и клиентом
6) .schema.ts - содежит класс, представляющий объект в БД (в данном случае mongoose)
7) .interface.ts - абстракции для отделения реализации сервисов и хэлперов
8)
## Архитектура
В целом при разработке соблюдалась многослойная архитектура, при которой было 3 основных слоя

1) Хэлперы - низкий уровень абстракции, работают с библиотеками, обращаются к файловой системе, бд и проч. Используются через интерфейсы, чтобы при желании можно было создать новый хэлпер с другой реализацией.
2) Сервисы - более высокий уровень абстракции, чем хэлперы. Фактически, бизнес-правила приложения. В основе своей вызывают методы хэлперов, чтобы минимально зависеть от фреймворка/библиотек/бд. Используются через интерфейс, чтобы при желаний можно было менять логику обработки запроса.
3) Контроллеры - принимают запрос пользователя и вызывают соответсвенный метод в сервисе, также на контроллеры навешаны декораторы для интерфейса в swagger (openAPI), а также валидация входящего запроса.
